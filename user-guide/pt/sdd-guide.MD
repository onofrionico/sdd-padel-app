# Manual do usu√°rio: Desenvolvimento guiado por especifica√ß√µes (SDD)

Este manual orienta voc√™ pela metodologia de Specification-Driven Development (SDD) para construir features de software. Voc√™ aprender√° a criar SPECs completos que definem **o que** deve ser constru√≠do, PLANs detalhados que especificam **como** implementar, e boas pr√°ticas para trabalhar de forma eficaz com assistentes de IA ao longo de todo o ciclo de desenvolvimento.

---

## üéØ Recomenda√ß√£o: Desenvolvimento iterativo com SDD

### Constru√ß√£o progressiva de contexto

Trabalhar com **Specification-Driven Development (SDD)** melhora significativamente quando √© documentado de forma iterativa:

- **Features relacionadas**: Ao concluir uma feature, voc√™ pode iniciar outra relacionada referenciando a anterior
- **Contexto cumulativo**: Cada SPEC e PLAN documentado enriquece o contexto do projeto
- **Aprendizado do agente**: Desenvolver m√∫ltiplas features com esse framework permite que o agente:
  - Entenda melhor a arquitetura do projeto
  - Mantenha consist√™ncia nos padr√µes de implementa√ß√£o
  - Reutilize solu√ß√µes e estruturas anteriores
  - Reduza o tempo de especifica√ß√£o para features semelhantes

### Benef√≠cios da abordagem iterativa

- **Documenta√ß√£o viva**: O hist√≥rico de SPECs e PLANs funciona como documenta√ß√£o em evolu√ß√£o do projeto
- **Melhoria cont√≠nua**: Cada itera√ß√£o refina o processo e a qualidade das especifica√ß√µes
- **Conhecimento compartilhado**: Facilita o onboarding de novos desenvolvedores no projeto
- **Rastreabilidade**: Mant√©m um registro claro de decis√µes t√©cnicas e de neg√≥cio

> **Recomenda√ß√£o**: Organize as features em pastas dentro de `specs/` e mantenha refer√™ncias cruzadas entre features relacionadas. Isso cria um grafo de conhecimento que potencializa o desenvolvimento assistido por IA.

### Incentivar perguntas de esclarecimento

Instrua o agente a fazer perguntas quando encontrar requisitos amb√≠guos ou pouco claros. Isso evita suposi√ß√µes e garante especifica√ß√µes mais precisas.

**Prompt de exemplo**:
```
"@spec-template create a spec considering: {your spec definition here}. 
If you encounter any ambiguous requirements, unclear business rules, or 
missing information, please ask me clarifying questions before making 
assumptions. I prefer to provide explicit guidance rather than having 
you infer unclear details."
```

---

## O que √© um SPEC?

Um **SPEC** √© um documento de especifica√ß√£o que define **O QUE** deve ser constru√≠do, sem entrar em detalhes de implementa√ß√£o.

### Conte√∫do obrigat√≥rio

- **Caso de uso**: Descri√ß√£o do problema a ser resolvido e dos fluxos de usu√°rio
- **Requisitos funcionais**: O que o sistema deve fazer
- **Requisitos n√£o funcionais**: Performance, seguran√ßa, escalabilidade
- **Crit√©rios de aceita√ß√£o**: Condi√ß√µes que determinam se a solu√ß√£o √© bem-sucedida
- **Objetivos de neg√≥cio**: Objetivos de alto n√≠vel que justificam o desenvolvimento
- **Tratamento de erros**: Comportamento esperado em situa√ß√µes inesperadas

### Princ√≠pios fundamentais

‚úÖ **Fazer:**
- Revisar o documento constantemente
- Explicar **O QUE** ser√° alcan√ßado
- Incluir requisitos t√©cnicos de alto n√≠vel

### Recomenda√ß√µes

- **Ferramentas**: Use Fury for Development MCP para contexto de plataforma e SDKs ou o MCP do namespace backend
- **Refer√™ncias**: Inclua documenta√ß√£o do projeto, regras existentes, imagens ou screenshots do Figma e guias t√©cnicos relevantes para que o agente entenda o contexto e possa criar uma defini√ß√£o melhor no SPEC
- **Modelos sugeridos**: "gpt-5.1-codex", "gpt-5-codex", "gpt-5.1" ou "gemini-2.5-pro" (modelos com capacidade de racioc√≠nio e an√°lise)
- **N√£o incluir** detalhes de implementa√ß√£o, trechos de c√≥digo ou caminhos de arquivos.
- **Modelos n√£o recomendados**: N√£o usar o modelo "composer-1" do Cursor.

---

## O que √© um PLAN?

Um **PLAN** √© um documento t√©cnico que define **COMO** a solu√ß√£o descrita no SPEC ser√° implementada.

### Conte√∫do obrigat√≥rio

- **Desenho t√©cnico**: Arquitetura e componentes da solu√ß√£o
- **Implementa√ß√£o**: Como os requisitos do SPEC ser√£o atendidos
- **Bibliotecas e depend√™ncias**: Bibliotecas, SDKs e frameworks a serem utilizados
- **Estruturas de dados**: Modelos de banco de dados, esquemas, migra√ß√µes
- **Contratos de API**: Corpos de requisi√ß√£o/resposta, headers, status codes
- **Estrat√©gia de testes**: Tipos de testes (unit√°rios, integra√ß√£o, e2e) e cobertura esperada
- **Tarefas detalhadas**: Lista granular de atividades a serem conclu√≠das (pode estar em arquivo separado)

### Princ√≠pios fundamentais

‚úÖ **Fazer:**
- Cobrir todos os requisitos do SPEC
- Explicar **COMO** ser√° realizado
- Detalhar a implementa√ß√£o espec√≠fica do projeto
- Incluir tarefas com alta granularidade

### Recomenda√ß√µes

- **Formato**: Arquivo `.md` ou ferramentas de "plan mode" no IDE/CLI
- **Refer√™ncias**: Inclua arquivos existentes do projeto como exemplos de implementa√ß√µes similares
- **Modelos sugeridos**: Use "claude-sonnet-4.5" ou "gpt-5.1-codex" para tarefas de c√≥digo e implementa√ß√£o; "gpt-5.1-codex-mini" para mudan√ßas mais econ√¥micas; "gpt-5.1" para cria√ß√£o de planos

#### ‚ö†Ô∏è Revis√£o cr√≠tica do plano

Uma revis√£o exaustiva do plano √© **fundamental** antes de iniciar a implementa√ß√£o:

- **Completude das tarefas**: Verifique se todas as tarefas de implementa√ß√£o e testes est√£o presentes
- **Crit√©rios de desenvolvimento**: Valide o cumprimento dos padr√µes de c√≥digo, conven√ß√µes e boas pr√°ticas do projeto
- **Arquitetura**: Revise se o design proposto √© coerente com a arquitetura existente
- **Cobertura de testes**: Confirme que os testes unit√°rios, de integra√ß√£o e e2e est√£o inclu√≠dos quando apropriado
- **Depend√™ncias**: Valide que todas as bibliotecas e SDKs necess√°rios foram identificados e est√£o corretos
- **Contratos de API**: Verifique se todos os endpoints, requests e responses est√£o definidos
- **Tratamento de erros**: Garanta que cen√°rios de erro e recupera√ß√£o est√£o contemplados
- **Itera√ß√£o**: Revise e refine o plano at√© que ele cubra todos os requisitos do SPEC

> **Importante**: Um erro ou falta de detalhe no plano ser√° propagado para a implementa√ß√£o. Investir tempo na revis√£o evita retrabalho posteriormente.

---

## üöÄ Quando iniciar a implementa√ß√£o?

A implementa√ß√£o deve come√ßar **apenas** quando os seguintes crit√©rios de qualidade forem atendidos:

### Crit√©rios de aprova√ß√£o para iniciar o desenvolvimento

#### ‚úÖ SPEC validado
- **Revis√£o completa**: O SPEC foi revisado de forma abrangente
- **Casos de uso cobertos**: Todos os casos de uso e fluxos de usu√°rio est√£o documentados
- **Requisitos claros**: Requisitos funcionais e n√£o funcionais s√£o espec√≠ficos e mensur√°veis
- **Crit√©rios de aceita√ß√£o**: Est√£o definidos e s√£o verific√°veis

#### ‚úÖ PLAN completo
- **Arquitetura definida**: O desenho t√©cnico √© coerente com o projeto existente
- **Fluxos implementados**: Todos os fluxos de dados e de controle est√£o especificados
- **Tratamento de erros**: Os cen√°rios de erro e recupera√ß√£o est√£o contemplados
- **Testes incorporados**: A estrat√©gia de testes (unit√°rio, integra√ß√£o, e2e) est√° definida
- **Tarefas granulares**: Todas as tarefas de implementa√ß√£o est√£o identificadas e priorizadas
- **Depend√™ncias identificadas**: Bibliotecas, SDKs e servi√ßos externos est√£o especificados

### ‚ö†Ô∏è Se os crit√©rios n√£o forem atendidos

**N√ÉO inicie a implementa√ß√£o**. Em vez disso:

1. Identifique as √°reas faltantes ou incompletas
2. Revise e complete o SPEC e/ou o PLAN, conforme necess√°rio
3. Itere at√© que todos os crit√©rios de aprova√ß√£o sejam atendidos
4. Valide novamente antes de prosseguir

### Benef√≠cios dessa disciplina

- **Implementa√ß√£o eficiente**: O c√≥digo flui naturalmente seguindo o plano
- **Menos retrabalho**: Erros detectados na especifica√ß√£o s√£o mais baratos de corrigir
- **Maior qualidade**: Os testes s√£o integrados desde a fase de design
- **Melhor estimativa**: Tarefas granulares permitem um acompanhamento de progresso mais preciso
- **Redu√ß√£o de bugs**: Casos de borda e tratamento de erros s√£o considerados desde o in√≠cio

> **Regra de ouro**: Se voc√™ tiver d√∫vidas sobre a completude do SPEC ou do PLAN, **N√ÉO implemente**. Invista tempo primeiro em esclarecer. Uma hora de planejamento pode economizar horas ou dias de corre√ß√µes.

---

## Workflow

```
1. SPEC ‚Üí Define O QUE construir (sem implementa√ß√£o)
2. PLAN ‚Üí Define COMO construir (com implementa√ß√£o)
3. Development ‚Üí Executa o plano
```

---

## üìã Uso dos templates

Os templates de SPEC e PLAN localizados em `specs/templates/` fornecem uma estrutura padronizada para a documenta√ß√£o.

### ‚ö†Ô∏è Importante

- **N√£o modificar os templates**: Os arquivos em `specs/templates/` devem permanecer inalterados
- **Copiar e completar**: Crie c√≥pias dos templates na pasta da feature espec√≠fica
- **Manter a estrutura**: Respeite as se√ß√µes definidas nos templates para manter a consist√™ncia do projeto

---

## üí∞ Gest√£o de tokens e contexto

### ‚ö†Ô∏è Alerta sobre consumo de tokens

O processo de cria√ß√£o de SPEC e PLAN pode consumir uma quantidade significativa de tokens e de janela de contexto.

### Recomenda√ß√µes para otimizar o consumo

1. **Separar por fases**: Crie chats independentes para cada fase de desenvolvimento
   - Chat 1: Gera√ß√£o do SPEC
   - Chat 2: Gera√ß√£o do PLAN (anexando o SPEC como refer√™ncia)
   - Chat 3: Implementa√ß√£o (anexando SPEC e PLAN como refer√™ncia)

2. **Reutilizar documenta√ß√£o**: Os arquivos de SPEC e PLAN gerados s√£o documentos completos que podem ser anexados em novos chats
   - Evita repetir todo o contexto em cada conversa
   - Reduz significativamente o consumo de tokens
   - Mant√©m a coer√™ncia entre as fases

3. **Vantagens de separar os chats**:
   - Maior efici√™ncia no uso de tokens
   - Contexto mais limpo e focado em cada etapa
   - Menor risco de atingir os limites da janela de contexto
   - Melhor organiza√ß√£o do trabalho

> **Dica**: Ao iniciar um novo chat para implementa√ß√£o, anexe os arquivos `spec.md` e `plan.md` gerados anteriormente. Isso fornece todo o contexto necess√°rio sem consumir a janela de contexto de forma desnecess√°ria.
